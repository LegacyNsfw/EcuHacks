# SummaryHere you'll find a bunch of C and assembly code to modify the ECU software in a 2005 Subaru Legacy GT, if (and only if) you already have the A2WC522N ROM installed. If you have A2WC510, 521, etc, you can probably upgrade to 522N with no trouble.However, what you see here is a work-in-progress. __Do not just build this project and apply the patch to your ECU.__ It has not been tested, so it almost certainly doesn't work... yet. Releases will be posted at RomRaider.# Latest ReleaseFor the patch and XML files that you __can__ use, see [this thread at RomRaider.com](http://www.romraider.com/forum/viewtopic.php?f=37&t=7818). For the corresponding source code, see the ZIP file in the first post of [this thread](http://www.romraider.com/forum/viewtopic.php?f=40&t=7680).# Status### Implemented so far: * __Launch control__ - If you hold the clutch in, and give the car 100% throttle while stationary, the rev limiter becomes 4000 RPM (or whatever you choose). This allows you to build a few pounds of boost, which in turn allows you to launch hard when you release the clutch. This is great for drag racing. It's also an easy way to find out how strong your transmission, axles, and CV joints are. Or how weak they are.* __Flat foot shifting__ - If you hold the clutch in, and give the car 100% throttle while *not* stationary, the rev limiter becomes 6000 RPM (or, again, whatever you choose). This allows you to shift without lifting the throttle, so you don't lose any boost. Also great for racing, also great for breaking drivetrain parts.* __Speed-density__ - From the factory, the car uses a mass air flow (MAF) sensor to determine how much air the engine is ingesting. This has some drawbacks, so some people prefer to use RPM, manifold pressure, and IAT. So instead of tuning a MAF scaling curve, you'll tune a volumetric efficiency (VE) table instead. To be honest, I am still using the MAF sensor, but people tell me the SD code works. (After releasing this code on RomRaider.com it was ported to a few other ECUs.)### In progress: Rev matchingIf you downshift while braking, you'll ideally want to blip the throttle to raise the RPM before releasing the clutch. Wouldn't it be nice if the ECU just did that for you automatically? This is now working well enough for off-road use, but I wouldn't want anyone else using it on public roads yet. It definitely needs more testing and tuning, and I'm open to the possibility of more code changes depending on the feedback I get from testers. # Prerequisites:* __HEW__ - Its full name is "High-Performance Embedded Workbench."  See [this thread at RomRaider.com](http://www.romraider.com/forum/viewtopic.php?f=25&t=7680) for the location and instructions. It's a little bit awkward, as the publisher requires registration, ownership has changed, and the software asks you to register at the previous publisher's web site, which no longer works. But it's still free, which is great.* __RomPatch__ - This is a small utility that I wrote to apply and remove patches. See [this thread at RomRaider.com](http://www.romraider.com/forum/viewtopic.php?f=32&t=7892) for more information.Optional but highly recommended:* __IDA Pro__ - If you have another Subaru from that era with a 32-bit ECU, you can adapt this project to suit your ROM, but you'll find that much easier if you have a copy of Hex-Rays' IDA Pro disassembler.  I've included a .IDC file from my own ROM, partly to help other A2WC522N users, but also to help anyone with a similar ECU get started with disassembly. See [this thread at RomRaider.com](http://romraider.com/forum/viewtopic.php?t=6303) for information about getting started with IDA.# See also:* [RomRaider](http://romraider.com) - The center of the open-source Subaru ECU tuning / hacking universe.* [MerpMod](https://github.com/Merp/MerpMod) - Merp and I were working in parallel in the early days of our projects, but after I took some time off he continued blazing forward. His project supports a bunch more ECUs and a bunch more features.* [ScoobyRom](https://github.com/SubaruDieselCrew/ScoobyRom) - A tool to aid reverse-engineering of Subaru (and other Denso) ECUs.